# ğŸ“š BUMBA LEARNING - CHANGELOG
## ğŸ¯ VISÃƒO GERAL DA APLICAÃ‡ÃƒO
**Bumba Learning** Ã© uma plataforma web de aprendizado de idiomas estilo Duolingo, desenvolvida como MVP monolÃ­tico usando JHipster 8.11.0, React 18 + TailwindCSS, Spring Boot, Java 17, JPA/Hibernate, Maven e PostgreSQL.
**Objetivo**: Criar uma experiÃªncia gamificada de aprendizado de idiomas com foco em inglÃªs (Fase 1), permitindo que professores criem conteÃºdo, gerenciem turmas e acompanhem o progresso dos alunos.
**Tema**: Bumba remete a um boi (touro) nordestino de cores preto, branco e colorido.

---
### **Entidades Implementadas:**
- **Perfil**: UserProfile
- **ConteÃºdo**: Topic, Question, Lesson, LessonQuestion
- **Turmas**: ClassRoom, ClassMember, LessonAssignment, StudentLessonProgress
- **Tentativas**: Attempt
- **GamificaÃ§Ã£o**: Achievement, UserAchievement
- **RecomendaÃ§Ã£o**: Recommendation
---

Achievement: Long id, String code, String name, String iconUrl, String description, String criteria
Attempt: Long id ,Boolean isCorrect ,Integer timeSpentSeconds ,Instant attemptedAt ,String answer ,String metadata ,User student ,Question question ,Lesson lesson
Authority: String name, boolean isPersisted
ClassMember: Long id, Instant enrolledAt, ClassRoom classRoom, User student
ClassRoom: Long id, String name, Language language, Instant createdAt, String description, User teacher
Lesson: Long id, String title, Language language, DifficultyLevel level, Integer xpReward, Integer passThreshold, Instant createdAt, String description, Topic topic, User createdBy
LessonAssignment: Long id, Instant assignedAt, Instant dueDate, ClassRoom classRoom, Lesson lesson, User assignedBy
LessonQuestion: Long id, Integer orderIndex, Lesson lesson, Question question
Question: Long id, QuestionType type, Language language, Skill skill, DifficultyLevel level, Instant createdAt, String prompt, String content, String assets, Topic topic, User createdBy
Recommendation: Long id, Instant recommendedAt, Boolean wasCompleted, String reason, User student, Lesson lesson
StudentLessonProgress: Long id, LessonStatus status, Integer score, Integer xpEarned, Instant completedAt, Boolean isLate, User student, Lesson lesson, LessonAssignment assignment
Topic: Long id, String name, Language language, String description
User: Long id, String login, String password, String firstName, String lastName, String email, boolean activated = false, String langKey, String imageUrl, String activationKey, String resetKey, Instant resetDate = null, Set<Authority> authorities
UserAchievement: Long id, Instant unlockedAt, User user, Achievement achievement
UserProfile: Long id, String municipalityCode, UserLevel currentLevel, Integer totalXp, Integer currentStreak, Integer dailyGoalXp, LocalDate lastActivityDate, User user
---
## ğŸ­ PERFIS DE USUÃRIO
### **ROLE_STUDENT** (Aluno)
- Realiza liÃ§Ãµes e ganha XP/conquistas
- Acompanha progresso pessoal e ranking
- Recebe recomendaÃ§Ãµes personalizadas pelo professor
### **ROLE_TEACHER** (Professor)
- Herda permissÃµes de STUDENT
- Cria/gerencia turmas 
- Atribui alunos a turmas
- Atribui liÃ§Ãµes a turmas com prazo para conclusÃ£o
- Cria questÃµes customizadas
- Visualiza relatÃ³rios de turmas
### **ROLE_ADMIN** (Administrador)
- Acesso total ao sistema
- Gerencia usuÃ¡rios e permissÃµes
- Cria conquistas e tÃ³picos
- Visualiza mÃ©tricas globais
---

## ğŸ—ï¸ ARQUITETURA DO SISTEMA

### **Estrutura de Pastas:**

**Backend:**
src/main/java/com/bumbatech/bumbalearning/
â”œâ”€â”€ app/logging # Logging
â”œâ”€â”€ config/ # Configuration files and settings
â”œâ”€â”€ domain/ # Entidades JPA
â”œâ”€â”€ management/ # Security Meters
â”œâ”€â”€ repository/ # Repositories Spring Data
â”œâ”€â”€ security/ # Security
â”œâ”€â”€ service/ # LÃ³gica de negÃ³cio
â”‚ â”œâ”€â”€ criteria/ # Filtros de busca
â”‚ â”œâ”€â”€ custom/ # serviÃ§os customizados
â”‚ â”œâ”€â”€ dto/ # Data Transfer Objects
â”‚ â”œâ”€â”€ impl/ # ImplementaÃ§Ãµes de serviÃ§os
â”‚ â””â”€â”€ mapper/ # MapStruct mappers
â””â”€â”€ web/rest/ # Controllers REST


**Frontend:**
src/main/webapp/app/
â”œâ”€â”€ config/ # axios-interceptor, constants, store ...
â”œâ”€â”€ entities/ # Menu, Reducers, Routes
â”‚   â”œâ”€â”€ achievement
â”‚   â”œâ”€â”€ attempt
â”‚   â”œâ”€â”€ class-member
â”‚   â”œâ”€â”€ class-room
â”‚   â”œâ”€â”€ lesson
â”‚   â”œâ”€â”€ lesson-assignment
â”‚   â”œâ”€â”€ lesson-question
â”‚   â”œâ”€â”€ question
â”‚   â”œâ”€â”€ recommendation
â”‚   â”œâ”€â”€ student-lesson-progress
â”‚   â”œâ”€â”€ topic
â”‚   â”œâ”€â”€ user-achievement
â”‚   â””â”€â”€ user-profile
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ acoount/
â”‚   â”œâ”€â”€ admin-dashboard/
â”‚   â”œâ”€â”€ administration/
â”‚   â”œâ”€â”€ home/
â”‚   â”œâ”€â”€ login/
â”‚   â”œâ”€â”€ teacher/
â”‚   â””â”€â”€ student/
â”‚       â”œâ”€â”€ StudentDashboard.tsx
â”‚       â”œâ”€â”€ LessonPlayer.tsx
â”‚       â”œâ”€â”€ Lessons.tsx
â”‚       â”œâ”€â”€ StudentRanking.tsx
â”‚       â”œâ”€â”€ StudentAchievements.tsx
â”‚       â”œâ”€â”€ StudentProfile.tsx
â”‚       â””â”€â”€ components/
â”œâ”€â”€ services/
â”‚   â””â”€â”€ teacher/
â””â”€â”€ shared/
    â”œâ”€â”€ auth/
    â”œâ”€â”€ components/ 
    â”œâ”€â”€ error/
    â”œâ”€â”€ jhipster/           
    â”œâ”€â”€ model/    
    â”œâ”€â”€ reducers/
    â”œâ”€â”€ util/        
    â””â”€â”€ layout/
        â”œâ”€â”€ header/
        â”‚   â”œâ”€â”€ HeaderStats.tsx
        â”‚   â”œâ”€â”€ header-stats.scss
        â”‚   â””â”€â”€ header.tsx 
        â”œâ”€â”€ sidebar/
        â”‚   â”œâ”€â”€ StudentSidebar.tsx
        â”‚   â””â”€â”€ student-sidebar.scss
        â”œâ”€â”€ notifications/
        â”‚   â”œâ”€â”€ AchievementNotification.tsx
        â”‚   â””â”€â”€ achievement-notification.scss
        â””â”€â”€ student/
            â”œâ”€â”€ StudentLayout.tsx
            â””â”€â”€ student-layout.scss
     ...
---

## ğŸ“Š REGRAS DE NEGÃ“CIO

### **1. Sistema de XP e NÃ­veis**
BEGINNER:
0-500 XP INTERMEDIATE: 501-2000 XP ADVANCED: 2001+ XP
- XP por questÃ£o correta: **10 XP**
- XP por liÃ§Ã£o completa: **100 XP** (configurÃ¡vel em `Lesson.xpReward`)
- NÃ­vel recalculado automaticamente apÃ³s cada liÃ§Ã£o
### **2. Sistema de Streak**
- Conta dias consecutivos com pelo menos 1 liÃ§Ã£o completa
- Timezone: **America/Sao_Paulo**
- Quebra se passar 1 dia sem atividade
- Meta diÃ¡ria padrÃ£o: **50 XP** (configurÃ¡vel)
### **3. ValidaÃ§Ã£o de Respostas**
| Tipo | ValidaÃ§Ã£o |
|------|-----------|
| MULTIPLE_CHOICE | ComparaÃ§Ã£o de Ã­ndice |
| FILL_BLANK | Case-insensitive, trim, aceita sinÃ´nimos |
| LISTENING/READING | ComparaÃ§Ã£o exata |
| WRITING | ComparaÃ§Ã£o com gabarito (variaÃ§Ãµes aceitas) |
| SPEAKING_PLACEHOLDER | Sempre retorna correto (Fase 1) |
### **4. ConclusÃ£o de LiÃ§Ã£o**
- **Threshold padrÃ£o**: 70% de acerto
- **Aprovado**: status=COMPLETED, ganha XP, atualiza streak
- **Reprovado**: status=FAILED, pode refazer apÃ³s 1 hora (cooldown)
- **Atrasado**: `isLate=true` se completar apÃ³s `dueDate`
### **5. Conquistas (10 bÃ¡sicas)**
- FIRST_LESSON 
- Primeira liÃ§Ã£o completa STREAK_7 
- 7 dias consecutivos STREAK_30 
- 30 dias consecutivos XP_100/1000/5000 
- Marcos de XP FIRST_ADVANCED 
- Primeira liÃ§Ã£o avanÃ§ada TEACHER_ASSIGNMENT 
- Primeira atividade do professor PERFECT_LESSON 
- 100% de acerto SPEED_DEMON - LiÃ§Ã£o em < 5 minutos
### **6. Sistema de RecomendaÃ§Ã£o**
**Prioridade:**
1. Assignments pendentes (ordenar por `dueDate`)
2. LiÃ§Ãµes do nÃ­vel atual nÃ£o completadas
3. Temas com taxa de acerto < 70%
### **7. Mistura Inteligente de QuestÃµes**
- Embaralhar ordem das questÃµes da liÃ§Ã£o
- Evitar mais de 2 questÃµes consecutivas do mesmo tipo
- Intercalar tipos (ex: MULTIPLE_CHOICE â†’ FILL_BLANK â†’ LISTENING)
---

