## üöÄ PR√ìXIMAS ATIVIDADES PRIORIT√ÅRIAS - MVP

### üìû PR√ìXIMA A√á√ÉO IMEDIATA
Desenvolver interfaces de usu√°rio (frontend) para os endpoints implementados, com foco no fluxo principal do aluno (MVP): dashboard, player de li√ß√£o, ranking, conquistas e perfil.

---

## FASE A ‚Äî MVP: Frontend do Aluno (Entrega m√≠nima vi√°vel)
Prioridade: CR√çTICA ‚Äî Entregar um fluxo completo de aluno que permita: iniciar li√ß√£o, responder quest√µes, completar li√ß√£o, ganhar XP/achievements e visualizar progresso.

Observa√ß√£o: todas as rotas cliente devem consumir os endpoints j√° implementados no backend.

1) Dashboard do Aluno ‚Äî /student/dashboard
- Integra√ß√£o: GET /api/student/dashboard
- Itens obrigat√≥rios:
  - XP total, n√≠vel atual e progresso para o pr√≥ximo n√≠vel (visual + n√∫mero)
  - Streak atual com √≠cone/tooltip
  - Meta di√°ria (default 50 XP) e progresso do dia
  - Cards r√°pidos: li√ß√µes completadas, quest√µes respondidas, taxa de acerto
  - Lista das 5 conquistas mais recentes (com √≠cone e data)
  - CTA prim√°rio "Come√ßar Li√ß√£o" que chama GET /api/student/lessons/next e redireciona para /student/lesson/:id
- Requisitos t√©cnicos:
  - Skeletons para carregamento
  - Tratamento de erros (toast / aviso)
  - Responsividade (mobile-first)

2) Player de Li√ß√£o ‚Äî /student/lesson/:id
- Integra√ß√£o:
  - GET /api/student/lessons/{id}/start
  - POST /api/student/lessons/{lessonId}/questions/{questionId}/answer
  - POST /api/student/lessons/{id}/complete
- Fluxo obrigat√≥rio:
  - Exibir uma quest√£o por vez com barra de progresso (Quest√£o X de Y)
  - Renderizar tipos: MULTIPLE_CHOICE, FILL_BLANK, LISTENING, READING, WRITING (SPEAKING ‚Üí placeholder)
  - Enviar resposta e exibir feedback imediato (verde/vermelho) com anima√ß√£o leve
  - Desabilitar submit repetido; permitir avan√ßar com bot√£o "Pr√≥xima"
  - Ao fim, chamar endpoint de complete e abrir ResultScreen com: score, XP ganho, conquistas desbloqueadas
- Componentes cr√≠ticos:
  - QuestionRenderer (renderiza por tipo)
  - ProgressBar (quest√µes)
  - FeedbackModal/Toast
  - ResultScreen (modal/p√°gina com resumo e CTA "Voltar ao Dashboard")
- Requisitos t√©cnicos:
  - Manter estado local por li√ß√£o (respostas, tempo, score parcial)
  - Timeout/erro de rede: salvar tentativas localmente e retry
  - Acessibilidade b√°sica (labels, foco, teclado)

3) Ranking ‚Äî /student/ranking
- Integra√ß√£o: GET /api/student/ranking?municipality={code}&period={week|month|all}
- Funcionalidades m√≠nimas:
  - Tabela top 50 (Posi√ß√£o, Nome, XP, N√≠vel, Streak)
  - Destaque da linha do usu√°rio atual com posi√ß√£o vis√≠vel
  - Filtro por per√≠odo (semana/m√™s/todos)
  - Exibir total de participantes e tempo de √∫ltima atualiza√ß√£o
- UX:
  - Pagina√ß√£o/infinite scroll (se necess√°rio)
  - Skeletons e mensagens de empty state

4) Conquistas ‚Äî /student/achievements
- Integra√ß√£o: utilizar dados de /api/student/dashboard e endpoints de achievements quando dispon√≠veis
- Funcionalidades:
  - Grid de cards com todas as conquistas
  - Visual: desbloqueadas (coloridas + data), bloqueadas (cinza + crit√©rio)
  - Each card should show progress if achievement is incremental (e.g., 8/10 lessons)
  - Modal com descri√ß√£o detalhada ao clicar
- Reuso de componentes: AchievementCard

5) Perfil do Aluno ‚Äî /student/profile
- Funcionalidades:
  - Mostrar nome, email, munic√≠pio
  - Estat√≠sticas: XP total, n√≠vel, streak, li√ß√µes completadas
  - Permitir editar meta di√°ria de XP
  - Hist√≥rico recente (√∫ltimas 10 atividades)
  - Gr√°fico simples: atividade semanal (sparkline)
- Requisitos de seguran√ßa:
  - Valida√ß√£o no cliente, chamadas autorizadas com JWT/session

6) Navega√ß√£o global e Layout
- Header com XP e Streak sempre vis√≠veis (pequeno badge)
- Menu lateral / mobile com rotas: Dashboard, Li√ß√£o (quando aplic√°vel), Ranking, Conquistas, Perfil
- Notifica√ß√µes para conquistas (tray/mini-modal)
- Tema b√°sico: light, responsivo

7) Componentes compartilhados (implementa√ß√£o no MVP)
- XpBadge
- StreakIndicator
- LevelBadge
- AchievementCard
- ProgressBar
- QuestionRenderer (extens√≠vel)
- FeedbackToast / FeedbackModal
- ResultScreen

8) Crit√©rios de aceita√ß√£o do MVP (frontend)
- Aluno inicia li√ß√£o, responde quest√µes e finaliza ‚Üí v√™ resultado com XP ganho e conquistas desbloqueadas
- Dashboard exibe dados essenciais (XP, streak, meta di√°ria)
- Ranking carrega dados do backend e mostra posi√ß√£o do usu√°rio
- Conquistas exibem estado e progressos b√°sicos
- Responsividade e loading states implementados
- Erros de rede s√£o tratados e exibidos ao usu√°rio

Tempo estimado: 2‚Äì3 semanas (1 time frontend focado)

---

## FASE B ‚Äî P√≥s-MVP (Prioridade ALTA/M√âDIA) ‚Äî Professor (Frontend) & APIs complementares
Objetivo: fornecer ferramentas de gest√£o para professores e completar UX administrativo.

1) APIs/Backend (se n√£o existirem completos)
- TeacherClassResource: CRUD turmas, adicionar/remover alunos
- TeacherAssignmentResource: criar/editar/excluir atribui√ß√µes
- TeacherReportResource: relat√≥rios por turma/aluno
- TeacherQuestionResource: CRUD quest√µes do professor

2) Frontend Professor (prioridade alta)
- /teacher/dashboard: vis√£o geral das turmas e atividades recentes
- /teacher/classes: listagem e detalhe da turma (alunos, li√ß√µes atribu√≠das)
- /teacher/assignments: criar/editar atribui√ß√µes para turmas
- /teacher/reports/class/:id e /teacher/reports/student/:id

Requisitos UX:
- Tabelas com filtros/pagina√ß√£o
- Export CSV/PDF (relat√≥rios)
- Permiss√µes: apenas professores autenticados podem acessar

Tempo estimado: 2‚Äì3 semanas

---

## FASE C ‚Äî Admin / Otimiza√ß√µes (P√≥s-MVP)
Prioridade: M√âDIA/BAIXA

1) Backend Admin (se necess√°rio)
- AdminUserResource (gest√£o de roles)
- AdminContentResource (t√≥picos, conquistas, modera√ß√£o de quest√µes)
- AdminMetricsResource (m√©tricas globais)

2) Frontend Admin
- /admin/dashboard (cards + gr√°ficos)
- /admin/users (CRUD + roles)
- /admin/content (CRUD t√≥picos, conquistas, modera√ß√£o)

3) Otimiza√ß√µes t√©cnicas
- Cache Redis para dashboard/ranking
- √çndices no PostgreSQL (ranking e buscas)
- Pagina√ß√£o em todas as listagens
- Lazy loading de assets e code-splitting

---

## FASE D ‚Äî Melhorias de UX e Experi√™ncias Avan√ßadas
Prioridade: BAIXA
- Anima√ß√µes de transi√ß√£o entre quest√µes e micro-intera√ß√µes
- Feedback sonoro opcional e confetes ao desbloquear conquista
- Dark mode
- Testes E2E (Cypress) cobrindo fluxo do aluno
- Internacionaliza√ß√£o (ap√≥s estabilizar MVP)
- Speech-to-Text real (substituir placeholder)

---

## DADOS, SEEDS E CONTRATOS (R√°pido resumo)
- Seeds existentes (autorities, t√≥picos, achievements, sample questions) devem ser reaproveitados.
- JSONB: manter schema atual (Question.content, assets, Achievement.criteria)
- Endpoints essenciais j√° documentados (StudentLessonResource, DashboardResource, StudentRankingResource)

---

## CHECKLIST FINAL (MVP)
- [ ] Dashboard funcional
- [ ] Player de li√ß√£o completo (tipos essenciais)
- [ ] Resultado da li√ß√£o com XP e conquistas
- [ ] Ranking por munic√≠pio
- [ ] P√°gina de conquistas
- [ ] Perfil do aluno com edi√ß√£o de meta di√°ria
- [ ] Componentes reutiliz√°veis e loading states
- [ ] Tratamento de erros e responsividade
- [ ] Deploy em homologa√ß√£o e smoke tests

M√©tricas de sucesso p√≥s-deploy:
- Fluxo de li√ß√£o complete sem erros cr√≠ticos
- Tempo de resposta do ranking < 500ms (monitorar)
- Feedback de resposta ao usu√°rio < 200ms (objetivo)
- Taxa de reten√ß√£o inicial e uso das li√ß√µes (A/B e analytics)

Notas finais:
- Focar no essencial: experi√™ncia fluida do aluno √© o core do produto.
- Separar claramente tarefas de MVP (entrega imediata) das melhorias e pain√©is avan√ßados.
- Priorizar testes E2E para o fluxo principal antes de abrir para usu√°rios reais.
