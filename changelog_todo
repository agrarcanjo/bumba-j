## ğŸš€ PRÃ“XIMAS ATIVIDADES PRIORITÃRIAS

v2.2 - PrÃ³xima VersÃ£o (Em Desenvolvimento)
âœ… XpService - Calcular e atualizar XP dos usuÃ¡rios (CONCLUÃDO)
âœ… StreakService - Gerenciar streak de dias consecutivos (CONCLUÃDO)
âœ… AchievementCheckService - Verificar e desbloquear conquistas (CONCLUÃDO)
âœ… StudentLessonResource - Endpoints para liÃ§Ãµes do aluno (CONCLUÃDO)
âœ… DashboardResource - Endpoint para dashboard do aluno (CONCLUÃDO)
ğŸ”„ StudentRankingResource - Endpoint para ranking de alunos (PRÃ“XIMO)
â³ Seeds de dados iniciais (conquistas, tÃ³picos, questÃµes exemplo)
â³ Interfaces de usuÃ¡rio (frontend)

v3.0 - Futuro (Planejado)
â³ Painel do professor
â³ Painel do admin
â³ OtimizaÃ§Ãµes de performance


ğŸ“ PRÃ“XIMA AÃ‡ÃƒO IMEDIATA
Implementar StudentRankingResource para fornecer endpoint de ranking de alunos por municÃ­pio e perÃ­odo.
### **FASE 1: Backend - LÃ³gica de NegÃ³cio Customizada**

#### **1.1 Endpoints Customizados para Aluno**
**Prioridade: CRÃTICA**

âœ… StudentLessonResource.java (CONCLUÃDO)
- GET /api/student/lessons/next - Retorna prÃ³xima liÃ§Ã£o recomendada
- GET /api/student/lessons/{id}/start - Inicia liÃ§Ã£o e retorna questÃµes
- POST /api/student/lessons/{lessonId}/questions/{questionId}/answer - Valida resposta e registra tentativa
- POST /api/student/lessons/{id}/complete - Calcula score, atualiza XP/streak/nÃ­vel e verifica conquistas

âœ… DashboardResource.java (CONCLUÃDO)
GET /api/student/dashboard
- Retorna: XP total, streak, nÃ­vel, conquistas desbloqueadas, meta diÃ¡ria, progresso para prÃ³ximo nÃ­vel
- Dados consolidados do perfil do usuÃ¡rio
- Lista de conquistas recentes
- EstatÃ­sticas de liÃ§Ãµes completadas

â³ StudentRankingResource.java (PRÃ“XIMO)
GET /api/student/ranking?municipality={code}&period={week|month|all}
- Query otimizada com Ã­ndices
- Ranking por municÃ­pio e perÃ­odo
- Ranking por municÃ­pio e perÃ­odo


#### **1.2 ServiÃ§os de GamificaÃ§Ã£o**
**Prioridade: CRÃTICA**

âœ… AnswerValidationService.java (CONCLUÃDO)
- validateMultipleChoice()
- validateFillBlank()
- validateListening()
- validateReading()
- validateWriting()
- validateSpeaking()

âœ… XpService.java (CONCLUÃDO)
- calculateXpForQuestion()
- updateUserXp()
- calculateLevel()
- getXpForNextLevel()
- getProgressToNextLevel()

âœ… StreakService.java (CONCLUÃDO)
- updateStreak()
- checkStreakBreak()
- getCurrentStreak()
- isStreakActive()

âœ… AchievementCheckService.java (CONCLUÃDO)
- checkAllAchievements() - Verifica todas as conquistas possÃ­veis
- unlockAchievement() - Desbloqueia uma conquista especÃ­fica
- checkLessonAchievements() - Verifica conquistas relacionadas a liÃ§Ãµes completadas
- checkXpAchievements() - Verifica conquistas relacionadas a XP total
- checkStreakAchievements() - Verifica conquistas relacionadas a streak
- checkPerfectScoreAchievement() - Verifica conquista de score perfeito

Conquistas implementadas:
- FIRST_LESSON: Completar primeira liÃ§Ã£o
- LESSON_MASTER_10: Completar 10 liÃ§Ãµes
- LESSON_MASTER_50: Completar 50 liÃ§Ãµes
- XP_COLLECTOR_100: Atingir 100 XP
- XP_COLLECTOR_1000: Atingir 1000 XP
- XP_COLLECTOR_5000: Atingir 5000 XP
- STREAK_WARRIOR_7: Manter streak de 7 dias
- STREAK_WARRIOR_30: Manter streak de 30 dias
- STREAK_WARRIOR_100: Manter streak de 100 dias
- PERFECT_SCORE: Completar liÃ§Ã£o com 100% de acerto


#### **1.3 Endpoints para Professor**
**Prioridade: ALTA**

GET /api/teacher/classes/{id}/report
- RelatÃ³rio de turma com progresso dos alunos

GET /api/teacher/students/{id}/report
- RelatÃ³rio individual detalhado

// TeacherQuestionResource.java
POST /api/teacher/questions
- Criar questÃ£o customizada

// TeacherLessonResource.java
POST /api/teacher/lessons
- Criar liÃ§Ã£o customizada

1.4 Endpoints para Admin
Prioridade: MÃ‰DIA

GET /api/admin/metrics
- MÃ©tricas globais da plataforma

// AdminUserResource.java
PUT /api/admin/users/{id}/roles
- Gerenciar roles de usuÃ¡rios


1.5 Seeds de Dados Iniciais
Prioridade: ALTA

Criar em src/main/resources/config/liquibase/:

-- data/topics.csv (8 tÃ³picos bÃ¡sicos de inglÃªs)
-- data/sample_questions.csv (20-30 questÃµes exemplo)
-- data/sample_lessons.csv (5-10 liÃ§Ãµes exemplo)


FASE 2: Frontend - Interfaces de UsuÃ¡rio
2.1 Dashboard do Aluno
Prioridade: CRÃTICA

Criar em src/main/webapp/app/modules/student/:

dashboard/
â”œâ”€â”€ student-dashboard.tsx       # VisÃ£o geral (XP, streak, nÃ­vel)
â”œâ”€â”€ student-achievements.tsx    # Grid de conquistas
â”œâ”€â”€ student-ranking.tsx         # Ranking global/municipal
â””â”€â”€ student-profile.tsx         # Perfil e configuraÃ§Ãµes

Componentes:

Card de XP e progresso de nÃ­vel
Contador de streak com animaÃ§Ã£o
Lista de conquistas (desbloqueadas/bloqueadas)
GrÃ¡fico de atividade semanal

2.2 Sistema de LiÃ§Ãµes
Prioridade: CRÃTICA

lesson/
â”œâ”€â”€ lesson-list.tsx             # Lista de liÃ§Ãµes disponÃ­veis
â”œâ”€â”€ lesson-player.tsx           # Player de liÃ§Ã£o (questÃµes)
â”œâ”€â”€ question-types/
â”‚   â”œâ”€â”€ multiple-choice.tsx
â”‚   â”œâ”€â”€ fill-blank.tsx
â”‚   â”œâ”€â”€listening.tsx
â”‚   â”œâ”€â”€ reading.tsx
â”‚   â””â”€â”€ writing.tsx
â””â”€â”€ lesson-result.tsx           # Resultado final da liÃ§Ã£o

Features:

Barra de progresso da liÃ§Ã£o
Feedback imediato (correto/incorreto)
AnimaÃ§Ãµes de transiÃ§Ã£o entre questÃµes
Modal de resultado com XP ganho

2.3 Painel do Professor
Prioridade: ALTA

teacher/
â”œâ”€â”€ class-management/
â”‚   â”œâ”€â”€ class-list.tsx
â”‚   â”œâ”€â”€ class-detail.tsx
â”‚   â”œâ”€â”€ class-report.tsx
â”‚   â””â”€â”€ student-report.tsx
â”œâ”€â”€ content-creation/
â”‚   â”œâ”€â”€ question-creator.tsx
â”‚   â””â”€â”€ lesson-creator.tsx
â””â”€â”€ assignment/
    â””â”€â”€ assignment-manager.tsx


Features:

Tabela de alunos com status (no prazo/atrasado/nÃ£o iniciado)
GrÃ¡ficos de progresso da turma
FormulÃ¡rio de criaÃ§Ã£o de questÃµes (todos os tipos)
AtribuiÃ§Ã£o de liÃ§Ãµes com prazo

2.4 Painel do Admin
Prioridade: MÃ‰DIA

admin/
â”œâ”€â”€ metrics-dashboard.tsx       # MÃ©tricas globais
â”œâ”€â”€ user-management.tsx         # GestÃ£o de usuÃ¡rios
â”œâ”€â”€ content-moderation.tsx      # ModeraÃ§Ã£o de questÃµes
â””â”€â”€ achievement-manager.tsx     # Criar/editar conquistas


FASE 3: OtimizaÃ§Ãµes e Melhorias

3.1 Performance
Prioridade: ALTA

 Adicionar Ã­ndices no PostgreSQL (conforme documentado)
 Implementar cache Redis para ranking
 Otimizar queries N+1 com fetch joins
 Implementar paginaÃ§Ã£o em todas as listas

3.2 UX/UI
Prioridade: MÃ‰DIA

 AnimaÃ§Ãµes de feedback (correto/incorreto)
 Sons de feedback (opcional)
 Modo escuro
 Responsividade mobile-first
 Loading states e skeleton screens


ğŸ“‹ CHECKLIST DE IMPLEMENTAÃ‡ÃƒO

Sprint 1: Core do Aluno (2 semanas)

 XpService + StreakService
 StudentLessonResource (start/answer/complete)
 Student
DashboardResource

 Seeds de dados (achievements, topics, questions)
 Dashboard do aluno (frontend)
 Lesson player (frontend)

Sprint 2: Sistema de GamificaÃ§Ã£o (1 semana)
 AchievementCheckService
 StudentRankingResource
 Ranking component (frontend)
 Achievements component (frontend)
 AnimaÃ§Ãµes de feedback

Sprint 3: Painel do Professor (2 semanas)

 TeacherClassResource (reports)
 TeacherQuestionResource
 TeacherLessonResource
 Class management (frontend)
 Content creation (frontend)
 Assignment manager (frontend)

Sprint 4: Admin e OtimizaÃ§Ãµes (1 semana)

 AdminMetricsResource
 AdminUserResource
 Ãndices PostgreSQL
 Cache Redis
 Testes automatizados


Estruturas JSONB
Question.content:

// MULTIPLE_CHOICE
{"options": ["opt1", "opt2", "opt3", "opt4"], "correct_index": 2}

// FILL_BLANK
{"sentence": "I ___ to school", "correct_answers": ["go", "walk"]}

// LISTENING
{"audio_url": "https://...", "question": "What did he say?", "correct_answer": "Hello"}

// READING_COMPREHENSION
{"text": "...", "question": "...", "correct_answer": "..."}

// WRITING
{"prompt": "Describe your day", "sample_answer": "..."}



// SPEAKING_PLACEHOLDER
{"prompt": "Say: Hello, how are you?"}


Question.assets:

[
  {"type": "image", "url": "https://..."},
  {"type": "audio", "url": "https://..."}
]

Achievement.criteria:

{"type": "streak", "value": 7}
{"type": "xp", "value": 1000}
{"type": "lesson_level", "value": "ADVANCED"}
{"type": "lesson_count", "value": 1}
{"type": "assignment_complete", "value": 1}
{"type": "perfect_score", "value": 100}
{"type": "lesson_time", "value": 300}

Attempt.answer:

{"selected_index": 2}  // para mÃºltipla escolha
{"text": "go"}         // para fill blank
{"text": "Hello"}      // para listening/writing

Attempt.metadata:

{"confidence": 0.95, "audio_duration": 3.5}


ğŸ“Š DADOS INICIAIS (Seeds)
1. Authorities

INSERT INTO jhi_authority (name) VALUES ('ROLE_ADMIN');
INSERT INTO jhi_authority (name) VALUES ('ROLE_USER');
INSERT INTO jhi_authority (name) VALUES ('ROLE_STUDENT');
INSERT INTO jhi_authority (name) VALUES ('ROLE_TEACHER');


2. Topics (8 tÃ³picos bÃ¡sicos de inglÃªs)

Greetings (Cumprimentos)
Numbers (NÃºmeros)
Colors (Cores)
Food (Comida)
Family (FamÃ­lia)
Travel (Viagem)
Work (Trabalho)
Hobbies (Hobbies)

3. Achievements (10 conquistas bÃ¡sicas)

FIRST_LESSON       - {"type": "lesson_count", "value": 1}
STREAK_7           - {"type": "streak", "value": 7}
STREAK_30          - {"type": "streak", "value": 30}
XP_100             - {"type": "xp", "value": 100}
XP_1000            - {"type": "xp", "value": 1000}
XP_5000            - {"type": "xp", "value": 5000}
FIRST_ADVANCED     - {"type": "lesson_level", "value": "ADVANCED"}
TEACHER_ASSIGNMENT - {"type": "assignment_complete", "value": 1}
PERFECT_LESSON     - {"type": "perfect_score", "value": 100}
SPEED_DEMON        - {"type": "lesson_time", "value": 300}

4. UserProfile padrÃ£o para novos usuÃ¡rios

currentLevel: BEGINNER
totalXp: 0
currentStreak: 0
dailyGoalXp: 50
