## üöÄ PR√ìXIMAS ATIVIDADES PRIORIT√ÅRIAS - MVP

### üìû PR√ìXIMA A√á√ÉO IMEDIATA
Implementar navega√ß√£o global e layout com header contendo XP e Streak sempre vis√≠veis, menu lateral/mobile com todas as rotas do aluno, e sistema de notifica√ß√µes para conquistas.

---

## FASE A ‚Äî MVP: Frontend do Aluno (Entrega m√≠nima vi√°vel)
Prioridade: CR√çTICA ‚Äî Entregar um fluxo completo de aluno que permita: iniciar li√ß√£o, responder quest√µes, completar li√ß√£o, ganhar XP/achievements e visualizar progresso.

Observa√ß√£o: todas as rotas cliente devem consumir os endpoints j√° implementados no backend.

1) ‚úÖ Dashboard do Aluno ‚Äî /student/dashboard
- ‚úÖ Integra√ß√£o: GET /api/student/dashboard
- ‚úÖ Itens obrigat√≥rios:
  - ‚úÖ XP total, n√≠vel atual e progresso para o pr√≥ximo n√≠vel (visual + n√∫mero)
  - ‚úÖ Streak atual com √≠cone/tooltip
  - ‚úÖ Meta di√°ria (default 50 XP) e progresso do dia
  - ‚úÖ Cards r√°pidos: li√ß√µes completadas, quest√µes respondidas, taxa de acerto
  - ‚úÖ Lista das 5 conquistas mais recentes (com √≠cone e data)
  - ‚úÖ CTA prim√°rio "Come√ßar Li√ß√£o" que chama GET /api/student/lessons/next e redireciona para /student/lesson/:id
- ‚úÖ Requisitos t√©cnicos:
  - ‚úÖ Skeletons para carregamento
  - ‚úÖ Tratamento de erros (toast / aviso)
  - ‚úÖ Responsividade (mobile-first)

2) ‚úÖ Player de Li√ß√£o ‚Äî /student/lesson/:id
- ‚úÖ Integra√ß√£o: (StudentLessonResource)
  - ‚úÖ GET /api/student/lessons/{id}/start (lesson.service.ts)
  -  POST /api/student/lessons/{lessonId}/questions/{questionId}/answer
  -  POST /api/student/lessons/{id}/complete
- Fluxo obrigat√≥rio: (LessonPlayer.tsx)
  - Exibir uma quest√£o por vez com barra de progresso (Quest√£o X de Y)
  - Renderizar tipos: MULTIPLE_CHOICE, FILL_BLANK, LISTENING, READING, WRITING (SPEAKING ‚Üí placeholder)
  - Enviar resposta e exibir feedback imediato (verde/vermelho) com anima√ß√£o leve
  - Desabilitar submit repetido; permitir avan√ßar com bot√£o "Pr√≥xima"
  - Ao fim, chamar endpoint de complete e abrir ResultScreen com: score, XP ganho, conquistas desbloqueadas
- Componentes cr√≠ticos:
  - QuestionRenderer (renderiza por tipo)
  - ProgressBar (quest√µes)
  - FeedbackModal/Toast
  - ResultScreen (modal/p√°gina com resumo e CTA "Voltar ao Dashboard")
- Requisitos t√©cnicos:
  - Manter estado local por li√ß√£o (respostas, tempo, score parcial)
  - Timeout/erro de rede: salvar tentativas localmente e retry
  - Acessibilidade b√°sica (labels, foco, teclado)

3) ‚úÖ Ranking ‚Äî /student/ranking
- ‚úÖ Integra√ß√£o: GET /api/student/ranking?municipality={code}&period={week|month|all}
- ‚úÖ Funcionalidades m√≠nimas:
  - ‚úÖ Tabela top 50 (Posi√ß√£o, Nome, XP, N√≠vel, Streak)
  - ‚úÖ Destaque da linha do usu√°rio atual com posi√ß√£o vis√≠vel
  - ‚úÖ Filtro por per√≠odo (semana/m√™s/todos)
  - ‚úÖ Exibir total de participantes e tempo de √∫ltima atualiza√ß√£o
- ‚úÖ UX:
  - ‚úÖ Pagina√ß√£o/infinite scroll (se necess√°rio)
  - ‚úÖ Skeletons e mensagens de empty state

4) ‚úÖ Conquistas ‚Äî /student/achievements
- ‚úÖ Integra√ß√£o: GET /api/student/achievements
- ‚úÖ Funcionalidades:
  - ‚úÖ Grid de cards com todas as conquistas
  - ‚úÖ Visual: desbloqueadas (coloridas + data), bloqueadas (cinza + crit√©rio)
  - ‚úÖ Progresso incremental para conquistas (e.g., 8/10 lessons)
  - ‚úÖ Modal com descri√ß√£o detalhada ao clicar
- ‚úÖ Reuso de componentes: AchievementCard, AchievementModal

5) ‚úÖ Perfil do Aluno ‚Äî /student/profile
- ‚úÖ Integra√ß√£o: GET /api/student/profile, PUT /api/student/profile/daily-goal
- ‚úÖ Funcionalidades:
  - ‚úÖ Mostrar nome, email, munic√≠pio
  - ‚úÖ Estat√≠sticas: XP total, n√≠vel, streak, li√ß√µes completadas
  - ‚úÖ Permitir editar meta di√°ria de XP (10-500 XP)
  - ‚úÖ Hist√≥rico recente (√∫ltimas 10 atividades)
  - ‚úÖ Estat√≠sticas detalhadas: quest√µes respondidas, taxa de acerto, conquistas, dias ativos, maior streak
- ‚úÖ Requisitos de seguran√ßa:
  - ‚úÖ Valida√ß√£o no cliente, chamadas autorizadas com JWT/session

6) Navega√ß√£o global e Layout
- Header com XP e Streak sempre vis√≠veis (pequeno badge)
- Menu lateral / mobile com rotas: Dashboard, Li√ß√£o (quando aplic√°vel), Ranking, Conquistas, Perfil
- Notifica√ß√µes para conquistas (tray/mini-modal)
- Tema b√°sico: light, responsivo

7) Componentes compartilhados (implementa√ß√£o no MVP)
- ‚úÖ XpBadge
- ‚úÖ StreakIndicator
- ‚úÖ LevelBadge
- ‚úÖ AchievementCard
- ‚úÖ ProgressBar
- ‚úÖ QuestionRenderer (extens√≠vel)
- ‚úÖ FeedbackToast / FeedbackModal
- ‚úÖ ResultScreen

8) Crit√©rios de aceita√ß√£o do MVP (frontend)
- ‚úÖ Aluno inicia li√ß√£o, responde quest√µes e finaliza ‚Üí v√™ resultado com XP ganho e conquistas desbloqueadas
- ‚úÖ Dashboard exibe dados essenciais (XP, streak, meta di√°ria)
- ‚úÖ Ranking carrega dados do backend e mostra posi√ß√£o do usu√°rio
- ‚úÖ Conquistas exibem estado e progressos b√°sicos
- ‚úÖ Perfil do aluno com visualiza√ß√£o de dados e edi√ß√£o de meta di√°ria
- ‚úÖ Responsividade e loading states implementados
- ‚úÖ Erros de rede s√£o tratados e exibidos ao usu√°rio

Tempo estimado: 2‚Äì3 semanas (1 time frontend focado)

---

## FASE B ‚Äî P√≥s-MVP (Prioridade ALTA/M√âDIA) ‚Äî Professor (Frontend) & APIs complementares
Objetivo: fornecer ferramentas de gest√£o para professores e completar UX administrativo.

1) APIs/Backend (se n√£o existirem completos)
- TeacherClassResource: CRUD turmas, adicionar/remover alunos
- TeacherAssignmentResource: criar/editar/excluir atribui√ß√µes
- TeacherReportResource: relat√≥rios por turma/aluno
- TeacherQuestionResource: CRUD quest√µes do professor

2) Frontend Professor (prioridade alta)
- /teacher/dashboard: vis√£o geral das turmas e atividades recentes
- /teacher/classes: listagem e detalhe da turma (alunos, li√ß√µes atribu√≠das)
- /teacher/assignments: criar/editar atribui√ß√µes para turmas
- /teacher/reports/class/:id e /teacher/reports/student/:id

Requisitos UX:
- Tabelas com filtros/pagina√ß√£o
- Export CSV/PDF (relat√≥rios)
- Permiss√µes: apenas professores autenticados podem acessar

Tempo estimado: 2‚Äì3 semanas

---

## FASE C ‚Äî Admin / Otimiza√ß√µes (P√≥s-MVP)
Prioridade: M√âDIA/BAIXA

1) Backend Admin (se necess√°rio)
- AdminUserResource (gest√£o de roles)
- AdminContentResource (t√≥picos, conquistas, modera√ß√£o de quest√µes)
- AdminMetricsResource (m√©tricas globais)

2) Frontend Admin
- /admin/dashboard (cards + gr√°ficos)
- /admin/users (CRUD + roles)
- /admin/content (CRUD t√≥picos, conquistas, modera√ß√£o)

3) Otimiza√ß√µes t√©cnicas
- Cache Redis para dashboard/ranking
- √çndices no PostgreSQL (ranking e buscas)
- Pagina√ß√£o em todas as listagens
- Lazy loading de assets e code-splitting

---

## FASE D ‚Äî Melhorias de UX e Experi√™ncias Avan√ßadas
Prioridade: BAIXA
- Anima√ß√µes de transi√ß√£o entre quest√µes e micro-intera√ß√µes
- Feedback sonoro opcional e confetes ao desbloquear conquista
- Dark mode
- Testes E2E (Cypress) cobrindo fluxo do aluno
- Internacionaliza√ß√£o (ap√≥s estabilizar MVP)
- Speech-to-Text real (substituir placeholder)

---

## DADOS, SEEDS E CONTRATOS (R√°pido resumo)
- Seeds existentes (autorities, t√≥picos, achievements, sample questions) devem ser reaproveitados.
- JSONB: manter schema atual (Question.content, assets, Achievement.criteria)
- Endpoints essenciais j√° documentados (StudentLessonResource, DashboardResource, StudentRankingResource)

---

## CHECKLIST FINAL (MVP)
- [x] Dashboard funcional
- [x] Player de li√ß√£o completo (tipos essenciais)
- [x] Resultado da li√ß√£o com XP e conquistas
- [x] Ranking por munic√≠pio
- [x] P√°gina de conquistas
- [x] Perfil do aluno com edi√ß√£o de meta di√°ria
- [x] Componentes reutiliz√°veis e loading states
- [x] Tratamento de erros e responsividade
- [x] Navega√ß√£o global e layout com header e menu
- [x] Deploy em homologa√ß√£o e smoke tests

M√©tricas de sucesso p√≥s-deploy:
- Fluxo de li√ß√£o complete sem erros cr√≠ticos
- Tempo de resposta do ranking < 500ms (monitorar)
- Feedback de resposta ao usu√°rio < 200ms (objetivo)
- Taxa de reten√ß√£o inicial e uso das li√ß√µes (A/B e analytics)

Notas finais:
- Focar no essencial: experi√™ncia fluida do aluno √© o core do produto.
- Separar claramente tarefas de MVP (entrega imediata) das melhorias e pain√©is avan√ßados.
- Priorizar testes E2E para o fluxo principal antes de abrir para usu√°rios reais.
